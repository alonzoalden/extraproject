<div class="dialog-content-wrapper" fxLayout="column">
    <div class="toolbar accent" fxLayout="row" fxLayoutAlign="space-between center" style="padding: 0 12px 0 24px;">
        <h1>Shipment #123123</h1>
        <button [disabled]="isLoading" aria-label="close" mat-icon-button (click)="matDialogRef.close();">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div mat-dialog-content fxLayout="row" fxFlex style="position: relative; margin: 0 !important; padding: 0 !important">
        <div fxFlex fxLayout="column" style="width: 0;">
            <mat-tab-group style="overflow: auto; position: relative; height: 100%;" fxFlex (selectedTabChange)="onSelectedTabChange()" [selectedIndex]="selectedTabIndex" #tabGroup class="accent">
                <mat-tab [disabled]="isLoading" label="Quantity">
                    <ng-template mat-tab-label>
                        <span style="margin-right: 7px;">General Info</span>
                        <mat-icon style="color: red;">error_outline</mat-icon>
                    </ng-template>
                    <div class="content" style="height: 100%; display: flex; flex-direction: column;"
                        [@animate]="{value:'*',params:{x:'100%'}}" style="background-color: #fff; color: #000 !important; height: 100%; overflow: auto;">
                        
                        <!-- HEADER  -->
                        <!-- <div class="sub-header" fxLayout="column" fxLayoutAlign="center start" style="padding-bottom: 0px !important;">
                            <div class="header-section" fxLayout="row" style="padding-top: 0;">
                                <div class="breadcrumb text-truncate h1 p24" style="width: 100%; text-align: left;">
                                    <h1>Complete Form Information</h1>
                                </div>
                            </div>
                            
                        </div> -->
                        <!-- /HEADER  -->

                        
                        <div class="p-24 m-0"
                            style="padding: 24px 52px !important; background-color: #fff; -webkit-overflow-scrolling: touch;
                                overflow: auto !important;">
                            <div *ngIf="composeForm">
                                <form name="composeForm" [formGroup]="composeForm" class="compose-form" fxLayout="column" fxFlex>
                                    <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                            style="margin-right: 12px;">
                                            <mat-label>HBL</mat-label>
                                            <input matInput placeholder="HBL" name="HBL" formControlName="HBL" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>MBL</mat-label>
                                            <input matInput placeholder="MBL" name="MBL" formControlName="MBL" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                    </div>
                                    <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                            style="margin-right: 12px;">
                                            <mat-label>Container</mat-label>
                                            <input matInput placeholder="Container" name="Container" formControlName="Container" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>ETD</mat-label>
                                            <input #inputDate formControlName="DateDepart" matInput [matDatepicker]="ETD">
                                            <mat-datepicker-toggle matSuffix [for]="ETD"></mat-datepicker-toggle>
                                            <mat-datepicker #ETD></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                            style="margin-right: 12px;">
                                            <mat-label>ETA</mat-label>
                                            <input #inputDate formControlName="DateDepart" matInput [matDatepicker]="ETA">
                                            <mat-datepicker-toggle matSuffix [for]="ETA"></mat-datepicker-toggle>
                                            <mat-datepicker #ETA></mat-datepicker>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>TXL</mat-label>
                                            <input #inputDate formControlName="DateDepart" matInput [matDatepicker]="TXL">
                                            <mat-datepicker-toggle matSuffix [for]="TXL"></mat-datepicker-toggle>
                                            <mat-datepicker #TXL></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <!-- <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" style="margin-right: 12px;">
                                            <mat-label>Package Type</mat-label>
                                            <mat-select (selectionChange)="handleCreateChange()" required placeholder="Package Type" name="PackageType" formControlName="PackageType">
                                                <mat-option *ngFor="let item of packageTypes" value="{{item}}">{{ item }}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always">
                                            <mat-label>Toolots Pallet</mat-label>
                                            <mat-select placeholder="Toolots Pallet" name="ToolotsPallet" formControlName="ToolotsPallet" required>
                                                <mat-option value="None">{{ 'None' }}</mat-option>
                                                <mat-option *ngFor="let item of palletTypes" [value]="item">{{ item.PalletName }}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div> -->
                                    <div fxLayout="row">
                                        <mat-form-field fxFlex.gt-sm="50%" appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>ISF FILED</mat-label>
                                            <input matInput placeholder="ISF" name="ISF" formControlName="ISF"
                                                required>
                                        </mat-form-field>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </mat-tab>

                <mat-tab [disabled]="isLoading" label="Documents">
                    <ng-template mat-tab-label>
                        <span style="margin-right: 7px;">Documents</span>
                        <mat-icon style="color: red;" *ngIf="!composeForm?.valid">error_outline</mat-icon>
                    </ng-template>
                    <div class="content" style="height: 100%; display: flex; flex-direction: column;"
                        [@animate]="{value:'*',params:{x:'100%'}}" style="background-color: #fff; color: #000 !important; height: 100%; overflow: hidden;">
                        
                        <!-- HEADER  -->
                        <!-- <div class="sub-header" fxLayout="column" fxLayoutAlign="center start" style="padding-bottom: 0px !important;">
                            <div class="header-section" fxLayout="row" style="padding-top: 0;">
                                <div class="breadcrumb text-truncate h1 p24" style="width: 100%; text-align: left;">
                                    <h1>Complete Document Information</h1>
                                </div>
                            </div>
                        </div> -->
                        <!-- /HEADER  -->

                        <div class="p-24 m-0" style="padding-top: 24px !important; background-color: #fff; -webkit-overflow-scrolling: touch; overflow: auto !important; padding: 24px 52px !important;">
                            <div fxLayoutAlign="space-between center" style="border-bottom: 1px solid #e0e0e0;">
                                <h2>Upload Section</h2>
                                <div fxFlex="50%">
                                    <steps-preview></steps-preview>
                                </div>
                                <div fxLayout="column" fxLayoutAlign="center center">
                                    <button mat-mini-fab color="primary"> <mat-icon>check</mat-icon> </button>
                                    <div style="letter-spacing: 0.5px; opacity: 0.8;">APPROVE</div>
                                </div>
                            </div>
                            <div *ngIf="composeForm" style="margin-top: 24px;">
                                <form name="composeForm" [formGroup]="composeForm" class="compose-form" fxLayout="column" fxFlex>
                                   
                                    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="start start" style="margin-bottom: 20px;">
                                        <div fxFlex fxLayout="row" fxLayoutAlign="start start" style="margin-right: 72px; position: relative;" [ngStyle.lt-md]="{'margin-bottom': '20px;'}">
                                            <div style="width: 140px; padding: 0 24px 24px 0; font-size: 16px; font-weight: 600;">
                                                <div>Detail Manifest</div>
                                                <button *ngIf="!fileDetailManifest64" (click)="fileInput1.click()"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="primary">
                                                    <div fxLayoutAlign="center">
                                                        <span *ngIf="!fileDetailManifest64">Upload PDF</span>
                                                    </div>
                                                </button>
                                                <button *ngIf="fileDetailManifest64" (click)="viewPDF('fileDetailManifest64Original')"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="accent" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                                                    <div fxLayoutAlign="center">
                                                        <span>View PDF</span>
                                                    </div>
                                                </button>
                                                <input type="file" id="fileInput1" style="display: none;"
                                                    accept="image/*" id="cameraInput" name="cameraInput" 
                                                    (change)="onFileSelected($event, 'fileDetailManifest');" (click)="fileInput1.value = null"
                                                    accept=".pdf" 
                                                    #fileInput1>
                                            </div>
                                            <div fxFlex *ngIf="!fileDetailManifest64" fxLayoutAlign="center center" style="padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; background-color: #ddd">
                                                <mat-icon style="color: #fff; width: 32px; height: 32px; font-size: 32px;">help</mat-icon>
                                            </div>
                                            <div fxFlex *ngIf="fileDetailManifest64" fxLayoutAlign="center center" style="position: relative; padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; overflow: auto;">
                                                <embed [src]="fileDetailManifest64" type="application/pdf">
                                            </div>
                                            <div *ngIf="fileDetailManifest64" class="remove" style="z-index: 9999999 !important; position: absolute; top: -4px; right: -4px; background: none;">
                                                <button matTooltip="Remove File" (click)="onRemovePdf('fileDetailManifest64')" class="mat-elevation-z2" mat-icon-button style="background-color: #fff;">
                                                    <mat-icon>close</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        <div fxFlex fxLayout="row" fxLayoutAlign="start start" style="position: relative">
                                            <div style="width: 140px; padding: 0 24px 24px 0; font-size: 16px; font-weight: 600;">
                                                <div>BL Document</div>
                                                <button *ngIf="!fileBLDocument64" (click)="fileInput2.click()"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="primary">
                                                    <div fxLayoutAlign="center">
                                                        <span *ngIf="!isLoading">Upload PDF</span>
                                                    </div>
                                                </button>
                                                <button *ngIf="fileBLDocument64" (click)="viewPDF('fileBLDocument64Original')"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="accent" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                                                    <div fxLayoutAlign="center">
                                                        <span>View PDF</span>
                                                    </div>
                                                </button>
                                                <input type="file" id="fileInput2" style="display: none;"
                                                    accept="image/*" id="cameraInput" name="cameraInput" 
                                                    (change)="onFileSelected($event,'fileBLDocument')" (click)="fileInput2.value = null"
                                                    accept=".pdf" 
                                                    #fileInput2>
                                            </div>
                                            <div fxFlex *ngIf="!fileBLDocument64" fxLayoutAlign="center center" style="padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; background-color: #ddd">
                                                <mat-icon style="color: #fff; width: 32px; height: 32px; font-size: 32px;">help</mat-icon>
                                            </div>
                                            <div fxFlex *ngIf="fileBLDocument64" fxLayoutAlign="center center" style="padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; overflow: auto;">
                                                <embed [src]="fileBLDocument64" type="application/pdf">
                                            </div>
                                            <div *ngIf="fileBLDocument64" class="remove" style="z-index: 9999999 !important; position: absolute; top: -4px; right: -4px; background: none;">
                                                <button matTooltip="Remove File" (click)="onRemovePdf('fileBLDocument64')" class="mat-elevation-z2" mat-icon-button style="background-color: #fff;">
                                                    <mat-icon>close</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="start start">
                                        <div fxFlex fxLayout="row" fxLayoutAlign="start start" style="margin-right: 72px; position: relative" >
                                            <div style="width: 140px; padding: 0 24px 24px 0; font-size: 16px; font-weight: 600;">
                                                <div>Commercial Invoice / Packing List</div>
                                                <button *ngIf="!filePackingList64" (click)="fileInput3.click()"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="primary">
                                                    <div fxLayoutAlign="center">
                                                        <span *ngIf="!isLoading">Upload PDF</span>
                                                    </div>
                                                </button>
                                                <button *ngIf="filePackingList64" (click)="viewPDF('filePackingList64Original')"  style="margin-top: 5px; width: 100px; height: 40px;" mat-raised-button color="accent" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                                                    <div fxLayoutAlign="center">
                                                        <span>View PDF</span>
                                                    </div>
                                                </button>
                                                <input type="file" id="fileInput3" style="display: none;"
                                                    accept="image/*" id="cameraInput" name="cameraInput" 
                                                    (change)="onFileSelected($event,'filePackingList')" (click)="fileInput3.value = null"
                                                    accept=".pdf" 
                                                    #fileInput3>
                                            </div>
                                            <div fxFlex *ngIf="!filePackingList64" fxLayoutAlign="center center" style="padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; background-color: #ddd">
                                                <mat-icon style="color: #fff; width: 32px; height: 32px; font-size: 32px;">help</mat-icon>
                                            </div>
                                            <div fxFlex *ngIf="filePackingList64" fxLayoutAlign="center center" style="padding: 4px; height: 120px; max-height: 120px; width: 120px; max-width: 120px; overflow: auto;">
                                                <embed [src]="filePackingList64" type="application/pdf">
                                            </div>
                                            <div *ngIf="filePackingList64" class="remove" style="z-index: 9999999 !important; position: absolute; top: -4px; right: -4px; background: none;">
                                                <button matTooltip="Remove File" (click)="onRemovePdf('filePackingList64')" class="mat-elevation-z2" mat-icon-button style="background-color: #fff;">
                                                    <mat-icon>close</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        <div fxFlex>

                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </mat-tab>

                <mat-tab [disabled]="isLoading" label="Picture" class="accent">
                    <ng-template mat-tab-label>
                        <span style="margin-right: 7px;">Form 3</span>
                        <mat-icon style="color: red;">error_outline</mat-icon>
                    </ng-template>
                    <div class="content" style="height: 100%; display: flex; flex-direction: column;"
                        [@animate]="{value:'*',params:{x:'100%'}}" style="background-color: #fff; color: #000 !important; height: 100%; overflow: hidden;">
                        
                        <!-- HEADER  -->
                        <div class="sub-header" fxLayout="column" fxLayoutAlign="center start" style="padding-bottom: 0px !important;">
                            <!-- <div class="header-section" fxLayout="row" style="padding-top: 0;">
                                <div class="breadcrumb text-truncate h1 p24" style="width: 100%; text-align: left;">
                                    <h1>Complete Form Information</h1>
                                </div>
                            </div> -->
                            <!-- <div class="hero-text">
                                <mat-icon class="hero-icon">next_week</mat-icon>
                            </div> -->
                        </div>
                        <!-- /HEADER  -->

                        
                        <div class="p-24 m-0"
                            style="padding-top: 24px !important; background-color: #fff; -webkit-overflow-scrolling: touch;
                                overflow: auto !important; ">
                            <div *ngIf="composeForm">
                                <form name="composeForm" [formGroup]="composeForm" class="compose-form" fxLayout="column" fxFlex>
                                    <!-- <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                            style="margin-right: 12px;">
                                            <mat-label>Length (in)</mat-label>
                                            <input matInput placeholder="Length" name="Length" formControlName="Length" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>Width (in)</mat-label>
                                            <input matInput placeholder="Width" name="Width" formControlName="Width" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                    </div>
                                    <div fxLayout="row">
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p"
                                            style="margin-right: 12px;">
                                            <mat-label>Height (in)</mat-label>
                                            <input matInput placeholder="Height" name="Height" formControlName="Height" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>Weight (lb)</mat-label>
                                            <input matInput placeholder="Weight" name="Weight" formControlName="Weight" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                    </div>
                                    
                                    <div fxLayout="row">
                                        <mat-form-field fxFlex.gt-sm="50%" appearance="outline" floatLabel="always" class="w-100-p">
                                            <mat-label>Pieces</mat-label>
                                            <input matInput placeholder="Pieces" name="Pieces" formControlName="Pieces" type="tel"
                                                min="0" required>
                                        </mat-form-field>
                                    </div> -->
                                </form>
                            </div>
                        </div>
                    </div>
                </mat-tab>

                <mat-tab *ngIf="media.isActive('lt-md')" [disabled]="isLoading" label="Messages" class="accent">
                    <ng-template mat-tab-label>
                        <span style="margin-right: 7px;">Messages</span>
                        <span style="font-weight: 400;">(4)</span>
                    </ng-template>
                    <div style="height: 100%; position: relative;">
                        <chat-panel-shipments style="height: 100%; position: relative; background-color: #fff !important; color: rgba(0, 0, 0, .78) !important"></chat-panel-shipments>
                    </div>
                </mat-tab>

            </mat-tab-group>
            
            


            <div mat-dialog-actions class="m-0" style="padding: 16px 24px;" fxLayout="row"
                fxLayoutAlign="space-between center">
                <!-- <div fxLayoutAlign="center center" *ngIf="tabGroup">
                    <button (click)="onHandlePrev()" mat-raised-button color="primary" class="save-button next"
                        
                        style="height: 72px !important;" aria-label="Back">
                        <div fxLayoutAlign="center">
                            <span class="btn-title" fxLayoutAlign="center center"><mat-icon style="margin-right: 7px;">arrow_back</mat-icon>Back</span>
                        </div>
                    </button>
                    <button (click)="onHandleNext()" mat-raised-button color="primary" class="save-button next"
                        
                        style="height: 72px !important;" aria-label="Next">
                        <div fxLayoutAlign="center">
                            <span class="btn-title" fxLayoutAlign="center center">Next<mat-icon style="margin-left: 7px;">arrow_forward</mat-icon></span>
                        </div>
                    </button>
                </div> -->
                <button mat-raised-button (click)="onDialogClose()" color="primary" class="save-button"
                    style="width: 180px; height: 60px !important;" aria-label="SAVE">
                    <div fxLayoutAlign="center">
                        <span class="btn-title" *ngIf="!isLoading">SAVE</span>
                        <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
                    </div>
                </button>
            </div>
        </div>


        <div fxHide fxShow.gt-sm style="height: 100%; position: relative;">
            <chat-panel-shipments style="height: 100%; position: relative;"></chat-panel-shipments>
        </div>

    </div>
</div>