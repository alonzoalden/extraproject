<div class="main-list-layout list-container" style="width: 0;">

    <div class="sub-header accent" fxLayout="column" fxLayoutAlign="center start">
        <div class="breadcrumb text-truncate h1 p24"
                [@animate]="{value:'*',params:{x:'50px'}}">
            <div fxLayout="row" fxLayoutAlign="start center">
                <h1 fxLayout="row" fxLayoutAlign="start center"> <button mat-icon-button [routerLink]="['../dashboard']"><mat-icon>home</mat-icon> </button> <mat-icon>chevron_right</mat-icon> {{title}} Management</h1>
            </div>
        </div>
        
        <!-- <div class="action-container">
            <div class="search-wrapper" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                <div class="search" fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon class="secondary-text">search</mat-icon>
                    <input #mainInput [disabled]="isLoading" (keyup)="applyFilter(searchTerm)" [(ngModel)]="searchTerm"
                        [placeholder]="isLoading ? 'Please wait...' : 'Search Item'">
                    <button mat-icon-button (click)="searchTerm = ''; applyFilter(searchTerm)">
                        <mat-icon>clear</mat-icon>
                    </button>
                </div>
            </div>
        </div> -->
        <!-- <div class="hero-text">
            <mat-icon class="hero-icon">build</mat-icon>
        </div> -->
    </div>

    <div *ngIf="isLoading" class="loader">
        <mat-spinner [@animate]="{value:'*',params:{delay:'400ms', y:'225px'}}"></mat-spinner>
    </div>

    <mat-accordion class="example-headers-align">
        
        <mat-expansion-panel>
            <mat-expansion-panel-header >
                <mat-panel-title>
                    PENDING PICK UP
                </mat-panel-title>
                <mat-panel-description>
                    <span></span>
                    <div>
                        <span>Count: <span style="font-size: 16px;">{{dataSource?.data?.length}}</span></span>
                    </div>
                    <!-- <mat-icon>account_circle</mat-icon> -->
                </mat-panel-description>
            </mat-expansion-panel-header>
            
            <div class="sub-header mini-header" fxLayoutAlign="flex-start center">
                <div class="action-container">
                    <div class="search-wrapper" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                        <div class="search" fxLayout="row" fxLayoutAlign="start center">
                            <mat-icon class="secondary-text">search</mat-icon>
                            <input #mainInput [disabled]="isLoading" (keyup)="applyFilter(searchTerm)" [(ngModel)]="searchTerm"
                                [placeholder]="isLoading ? 'Please wait...' : 'Search Item'">
                            <button mat-icon-button (click)="searchTerm = ''; applyFilter(searchTerm)">
                                <mat-icon>clear</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <mat-table class="item-list" #table [dataSource]="dataSource"
                [@animateStagger]="{value:'50'}" matSort>

                <!-- ImagePath Column -->
                <ng-container matColumnDef="ImagePath">
                    <mat-header-cell *matHeaderCellDef fxFlex="64px"></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="64px">
                        <img *ngIf="row.ImagePath" src="{{imageURL}}{{row.ImagePath}}">
                    </mat-cell>
                </ng-container>

                <!-- ItemName Column -->
                <ng-container matColumnDef="ItemName">
                    <mat-header-cell *matHeaderCellDef>Item</mat-header-cell>
                    <mat-cell *matCellDef="let row" fxLayout="row" fxLayoutAlign="start center"
                        style="padding-top: 6px; padding-bottom: 6px;">
                        <div *ngIf="row.ImagePath" fxLayoutAlign="start center" style="padding-right: 20px;">
                            <img style="max-width: 64px; max-height: 64px;" *ngIf="row.ImagePath"
                                src="{{imageURL}}{{row.ImagePath}}">
                        </div>
                        <div>
                            <div style="font-weight: 600;">{{row.ItemName}}</div>
                            <div><span class="sm-header">TPIN: </span><span class="smaller"
                                    style="font-weight: 400;">{{row.TPIN}}</span></div>
                            <div><span class="sm-header">SKU: </span><span class="smaller"
                                    style="font-weight: 400;">{{row.VendorSKU}}</span></div>
                        </div>
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="HBL">
                    <mat-header-cell *matHeaderCellDef >HBL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemNumber }}
                    </mat-cell>
                </ng-container>
                <!-- ItemDescription Column -->
                <ng-container matColumnDef="MBL">
                    <mat-header-cell *matHeaderCellDef >MBL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemNumber + '3f2' }}
                    </mat-cell>
                </ng-container>
                
                <!-- HTCCode Column -->
                <ng-container matColumnDef="Container">
                    <mat-header-cell *matHeaderCellDef >Container</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.HTCCode }}
                    </mat-cell>
                </ng-container>
                <!-- UpdatedOn Column -->
                <ng-container matColumnDef="ETD">
                    <mat-header-cell *matHeaderCellDef >ETD</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- Steps Column -->
                <ng-container matColumnDef="ETA">
                    <mat-header-cell *matHeaderCellDef >ETA</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- TXL column -->
                <ng-container matColumnDef="TXL">
                    <mat-header-cell *matHeaderCellDef>TXL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                
                    <!-- ItemMobile Column -->
                    <ng-container matColumnDef="ItemMobile">
                    <mat-header-cell *matHeaderCellDef fxLayoutAlign="center center" style="padding-right: 7px;">Steps</mat-header-cell>
                    <mat-cell *matCellDef="let row" fxLayout="row" style="padding-right: 0;">
                        <div style="padding: 12px 6px 12px 0;" fxLayout="column" fxLayoutAlign="space-between start">
                            <div fxFlex fxLayout="row"><div class="sm-header" style="min-width: 60px;">Number: </div><div>{{ row.ItemNumber }}</div></div>
                            <div fxFlex fxLayout="row"><div class="sm-header" style="min-width: 60px;">HTCCode: </div><div>{{ row.HTCCode }}</div></div>
                            <div fxFlex fxLayout="row"><div class="sm-header" style="min-width: 60px;">Updated: </div><div>{{ row.UpdatedOn }}</div></div>
                        </div>
                        <steps-preview fxFlex style="width: 100%;"></steps-preview>
                    </mat-cell>
                </ng-container>

                <!-- Actions Column -->
                <ng-container matColumnDef="Actions">
                    <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <button mat-icon-button class="sidebar-toggle" (click)="openShipment(row)">
                            <mat-icon>more_horiz</mat-icon>
                        </button>
                        <!-- <button mat-icon-button [matMenuTriggerFor]="moreMenu" aria-label="more">
                            <mat-icon>more_horiz</mat-icon>
                        </button>

                        <mat-menu #moreMenu="matMenu">
                            <button [disabled]="!isLeadRole" mat-menu-item (click)="composeDialog()">
                                <mat-icon>build</mat-icon> Edit Dimensions
                            </button>
                            <hr>
                            <button mat-menu-item (click)="composeDialogInventoryDetails()">
                                <mat-icon>notes</mat-icon> View Inventory Detail
                            </button>
                            <button mat-menu-item (click)="composeDialogCartons()">
                                <mat-icon>library_books</mat-icon> View Carton Information
                            </button>
                            <button mat-menu-item (click)="composeDialogPotentialLocations()">
                                <mat-icon>location_on</mat-icon> View Potential Location
                            </button>
                            <hr>
                            <button mat-menu-item (click)="composeDialogPrintLabel()">
                                <mat-icon>print</mat-icon> Print Label
                            </button>

                        </mat-menu> -->
                    </mat-cell>
                </ng-container>

                <!-- Detail Button Column -->
                <ng-container matColumnDef="detail-button">

                    <mat-header-cell *matHeaderCellDef fxHide.lt-md></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxHide.gt-sm>
                        <button mat-icon-button class="sidebar-toggle" (click)="toggleSidebar('file-manager-details-sidebar')">
                            <mat-icon class="secondary-text">info</mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>

                <mat-header-row fxHide.lt-md *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>

                <mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openShipment(row)" (click)="onSelect(row)"
                    [ngClass]="{'selected' : row == selected}" [@animate]="{value:'*',params:{y:'100%'}}" matRipple>
                </mat-row>

                <!-- <mat-row *matRowDef="let row; columns: displayedColumnsMobile; when: isMobile"
                    (dblclick)="openShipment(row)" (click)="onSelect(row)"
                    [ngClass]="{'selected' : selected && row == selected}" [@animate]="{value:'*',params:{y:'100%'}}" matRipple >
                </mat-row> -->

            </mat-table>
            <mat-paginator #paginator [pageSizeOptions]="[10, 20, 50, 100, 200]" [showFirstLastButtons]="true"></mat-paginator>

        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header >
                <mat-panel-title>
                    CARRIER DROP OFF
                </mat-panel-title>
                <mat-panel-description>
                    <span></span>
                    <div>
                        <span>Count: <span style="font-size: 16px;">{{dataSource?.data?.length}}</span></span>
                    </div>
                    <!-- <mat-icon>account_circle</mat-icon> -->
                </mat-panel-description>
            </mat-expansion-panel-header>
            
            <div class="sub-header mini-header" fxLayoutAlign="flex-start center">
                <div class="action-container">
                    <div class="search-wrapper" [@animate]="{value:'*',params:{delay:'250ms',scale:'0.2'}}">
                        <div class="search" fxLayout="row" fxLayoutAlign="start center">
                            <mat-icon class="secondary-text">search</mat-icon>
                            <input #mainInput [disabled]="isLoading" (keyup)="applyFilter(searchTerm)" [(ngModel)]="searchTerm"
                                [placeholder]="isLoading ? 'Please wait...' : 'Search Item'">
                            <button mat-icon-button (click)="searchTerm = ''; applyFilter(searchTerm)">
                                <mat-icon>clear</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <mat-table class="item-list" #table [dataSource]="dataSource"
                [@animateStagger]="{value:'50'}" matSort>

                <!-- ImagePath Column -->
                <ng-container matColumnDef="ImagePath">
                    <mat-header-cell *matHeaderCellDef fxFlex="64px"></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="64px">
                        <img *ngIf="row.ImagePath" src="{{imageURL}}{{row.ImagePath}}">
                    </mat-cell>
                </ng-container>

                <!-- ItemName Column -->
                <ng-container matColumnDef="ItemName">
                    <mat-header-cell *matHeaderCellDef>Item</mat-header-cell>
                    <mat-cell *matCellDef="let row" fxLayout="row" fxLayoutAlign="start center"
                        style="padding-top: 6px; padding-bottom: 6px;">
                        <div *ngIf="row.ImagePath" fxLayoutAlign="start center" style="padding-right: 20px;">
                            <img style="max-width: 64px; max-height: 64px;" *ngIf="row.ImagePath"
                                src="{{imageURL}}{{row.ImagePath}}">
                        </div>
                        <div>
                            <div style="font-weight: 600;">{{row.ItemName}}</div>
                            <div><span class="sm-header">TPIN: </span><span class="smaller"
                                    style="font-weight: 400;">{{row.TPIN}}</span></div>
                            <div><span class="sm-header">SKU: </span><span class="smaller"
                                    style="font-weight: 400;">{{row.VendorSKU}}</span></div>
                        </div>
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="HBL">
                    <mat-header-cell *matHeaderCellDef >HBL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemNumber }}
                    </mat-cell>
                </ng-container>
                <!-- ItemDescription Column -->
                <ng-container matColumnDef="MBL">
                    <mat-header-cell *matHeaderCellDef >MBL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemNumber + '3f2' }}
                    </mat-cell>
                </ng-container>
                
                <!-- HTCCode Column -->
                <ng-container matColumnDef="Container">
                    <mat-header-cell *matHeaderCellDef >Container</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.HTCCode }}
                    </mat-cell>
                </ng-container>
                <!-- UpdatedOn Column -->
                <ng-container matColumnDef="ETD">
                    <mat-header-cell *matHeaderCellDef >ETD</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- Steps Column -->
                <ng-container matColumnDef="ETA">
                    <mat-header-cell *matHeaderCellDef >ETA</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- TXL column -->
                <ng-container matColumnDef="TXL">
                    <mat-header-cell *matHeaderCellDef>TXL</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- ItemNumber Column -->
                <ng-container matColumnDef="ItemNumber">
                    <mat-header-cell *matHeaderCellDef >Item Number</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemNumber }}
                    </mat-cell>
                </ng-container>
                <!-- ItemDescription Column -->
                <ng-container matColumnDef="ItemDescription">
                    <mat-header-cell *matHeaderCellDef >Description</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.ItemDescription }}
                    </mat-cell>
                </ng-container>
                <!-- HTCCode Column -->
                <ng-container matColumnDef="HTCCode">
                    <mat-header-cell *matHeaderCellDef >HTCCode</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.HTCCode }}
                    </mat-cell>
                </ng-container>
                <!-- UpdatedOn Column -->
                <ng-container matColumnDef="UpdatedOn">
                    <mat-header-cell *matHeaderCellDef >Updated On</mat-header-cell>
                    <mat-cell *matCellDef="let row" >
                        {{ row.UpdatedOn }}
                    </mat-cell>
                </ng-container>
                <!-- Steps Column -->
                <ng-container matColumnDef="Steps">
                    <mat-header-cell *matHeaderCellDef fxLayoutAlign="center center" fxHide.lt-md style="padding-right: 7px;">Steps</mat-header-cell>
                    <mat-cell *matCellDef="let row" fxHide.lt-md>
                        <steps-preview></steps-preview>
                    </mat-cell>
                </ng-container>
                
                    <!-- ItemMobile Column -->
                    <ng-container matColumnDef="ItemMobile">
                    <mat-header-cell *matHeaderCellDef fxLayoutAlign="center center" style="padding-right: 7px;">Steps</mat-header-cell>
                    <mat-cell *matCellDef="let row" fxLayout="row" style="padding-right: 0;">
                        <div style="padding: 12px 12px 12px 0;" fxLayout="column" fxLayoutAlign="center start">
                            <div fxLayout="row"><div class="sm-header" style="min-width: 60px;">Number: </div><div>{{ row.ItemNumber }}</div></div>
                            <div fxLayout="row"><div class="sm-header" style="min-width: 60px;">HTCCode: </div><div>{{ row.HTCCode }}</div></div>
                            <div fxLayout="row"><div class="sm-header" style="min-width: 60px;">Updated: </div><div>{{ row.UpdatedOn }}</div></div>
                        </div>
                        <steps-preview fxFlex style="width: 100%;"></steps-preview>
                    </mat-cell>
                </ng-container>

                <!-- Actions Column -->
                <ng-container matColumnDef="Actions">
                    <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <button mat-icon-button class="sidebar-toggle" (click)="openShipment(row)">
                            <mat-icon>more_horiz</mat-icon>
                        </button>
                        <!-- <button mat-icon-button [matMenuTriggerFor]="moreMenu" aria-label="more">
                            <mat-icon>more_horiz</mat-icon>
                        </button>

                        <mat-menu #moreMenu="matMenu">
                            <button [disabled]="!isLeadRole" mat-menu-item (click)="composeDialog()">
                                <mat-icon>build</mat-icon> Edit Dimensions
                            </button>
                            <hr>
                            <button mat-menu-item (click)="composeDialogInventoryDetails()">
                                <mat-icon>notes</mat-icon> View Inventory Detail
                            </button>
                            <button mat-menu-item (click)="composeDialogCartons()">
                                <mat-icon>library_books</mat-icon> View Carton Information
                            </button>
                            <button mat-menu-item (click)="composeDialogPotentialLocations()">
                                <mat-icon>location_on</mat-icon> View Potential Location
                            </button>
                            <hr>
                            <button mat-menu-item (click)="composeDialogPrintLabel()">
                                <mat-icon>print</mat-icon> Print Label
                            </button>

                        </mat-menu> -->
                    </mat-cell>
                </ng-container>

                <!-- Detail Button Column -->
                <ng-container matColumnDef="detail-button">

                    <mat-header-cell *matHeaderCellDef fxHide.lt-md></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxHide.gt-sm>
                        <button mat-icon-button class="sidebar-toggle" (click)="toggleSidebar('file-manager-details-sidebar')">
                            <mat-icon class="secondary-text">info</mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>

                <mat-header-row fxHide.lt-md *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>

                <mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openShipment(row)" (click)="onSelect(row)"
                    [ngClass]="{'selected' : row == selected}" [@animate]="{value:'*',params:{y:'100%'}}" matRipple>
                </mat-row>

                <!-- <mat-row *matRowDef="let row; columns: displayedColumnsMobile; when: isMobile"
                    (dblclick)="openShipment(row)" (click)="onSelect(row)"
                    [ngClass]="{'selected' : row == selected}" [@animate]="{value:'*',params:{y:'100%'}}" matRipple >
                </mat-row> -->

            </mat-table>
            <mat-paginator #paginator [pageSizeOptions]="[10, 20, 50, 100, 200]" [showFirstLastButtons]="true"></mat-paginator>

        </mat-expansion-panel>


    </mat-accordion>


    

    <!-- <div *ngIf="!isLoading && dataSource?.filteredData.length === dataSource?.data.length"
        [@animate]="{value:'*',params:{delay:'500ms', y:'225px'}}" class="center-box-message">
        Please search for an item.
    </div> -->
    <div *ngIf="!isLoading && dataSource?.filteredData.length === 0"
        [@animate]="{value:'*',params:{delay:'400ms', y:'225px'}}" class="center-box-message">
        No items found.
    </div>
</div>